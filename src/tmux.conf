# Enable mouse support
set -g mouse on

# Start numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Increase history limit
set -g history-limit 10000

# Better colors - enhanced for truecolor support
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"
set -ga terminal-overrides ",xterm-256color:Tc"
set -ga terminal-overrides ",screen-256color:Tc"
set -as terminal-overrides ',*:RGB'
set -as terminal-overrides ',*:sitm=\E[3m'

# Force color support
set -g @force_truecolor on

# Status bar customization - enhanced
set -g status-bg colour234
set -g status-fg colour255
set -g status-position bottom
set -g status-interval 2
set -g status-left-length 40
set -g status-right-length 80

# Left side: session name with icon
set -g status-left '#[fg=colour39,bg=colour234,bold] üìü #S #[fg=colour234,bg=colour240] '

# Window list format
set -g window-status-format '#[fg=colour244,bg=colour240] #I:#W '
set -g window-status-current-format '#[fg=colour234,bg=colour39,bold] #I:#W #[fg=colour39,bg=colour240]'

# Right side: more informative
set -g status-right '#[fg=colour244,bg=colour240] üíª #H #[fg=colour39,bg=colour240] üïê %H:%M #[fg=colour255,bg=colour39,bold] %d-%m'

# Easier window switching within session
bind-key -n M-1 select-window -t 1
bind-key -n M-2 select-window -t 2
bind-key -n M-3 select-window -t 3
bind-key -n M-4 select-window -t 4
bind-key -n M-5 select-window -t 5
bind-key -n M-6 select-window -t 6

# Ctrl+F function keys for console switching
bind-key -n C-F1 switch-client -t console-1
bind-key -n C-F2 switch-client -t console-2
bind-key -n C-F3 switch-client -t console-3
bind-key -n C-F4 switch-client -t console-4
bind-key -n C-F5 switch-client -t console-5
bind-key -n C-F6 switch-client -t console-6
bind-key -n C-F7 switch-client -t console-7

# Additional Ctrl+F shortcuts
bind-key -n C-F8 detach-client               # Disconnect
bind-key -n C-F9 switch-client -l            # Toggle last session
bind-key -n C-F10 switch-client -p           # Previous session
bind-key -n C-F11 switch-client -n           # Next session
bind-key -n C-F12 new-window -n "Help" "console-help.sh"  # Advanced help menu

# Reset session functionality
bind-key -n C-M-r send-keys 'clear && reset' Enter  # Ctrl+Alt+R: Reset current terminal

# Backup: Traditional session switching with Ctrl+b prefix
bind-key 1 switch-client -t console-1
bind-key 2 switch-client -t console-2
bind-key 3 switch-client -t console-3
bind-key 4 switch-client -t console-4
bind-key 5 switch-client -t console-5
bind-key 6 switch-client -t console-6
bind-key 7 switch-client -t console-7

# Visual session switcher
bind-key S choose-tree -s

# Quick jump to last session
bind-key L switch-client -l